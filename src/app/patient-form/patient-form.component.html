<h1>Patient Registration Form</h1>
<form #form="ngForm" (ngSubmit)="onSubmit(form)">
  <div>
    <label for="name">Name:</label>
    <input
      type="text"
      id="name"
      name="name"
      [(ngModel)]="patientModel.name"
      #name="ngModel"
      required
      pattern="[A-Za-z ]+"
    />
    <div *ngIf="name.invalid && name.touched" class="error">
      Please enter a valid name (only alphabets allowed).
    </div>
  </div>

  <div>
    <label for="dob">Date of Birth:</label>
    <input
      type="date"
      id="dob"
      name="dob"
      [(ngModel)]="patientModel.dob"
      #dob="ngModel"
      required
    />
    <div *ngIf="dob.invalid && dob.touched" class="error">
      Please enter your date of birth.
    </div>
  </div>

  <div>
    <label for="gender">Gender:</label>
    <select
      id="gender"
      name="gender"
      [(ngModel)]="patientModel.gender"
      #gender="ngModel"
      required
    >
      <option value="">Select Gender</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
    </select>
    <div *ngIf="gender.invalid && gender.touched" class="error">
      Please select your gender.
    </div>
  </div>

  <div>
    <label for="bloodGroup">Blood Group:</label>
    <input
      type="text"
      id="bloodGroup"
      name="bloodGroup"
      [(ngModel)]="patientModel.bloodGroup"
      #bloodGroup="ngModel"
      required
      pattern="^(A|B|AB|O)[+-]$"
    />
    <div *ngIf="bloodGroup.invalid && bloodGroup.touched" class="error">
      Please enter a valid blood group (e.g., A+, O-, etc.).
    </div>
  </div>

  <div>
    <label for="email">Email:</label>
    <input
      type="email"
      id="email"
      name="email"
      [(ngModel)]="patientModel.email"
      #email="ngModel"
      required
    />
    <div *ngIf="email.invalid && email.touched" class="error">
      Please enter a valid email.
    </div>
  </div>

  <div>
    <label for="phone">Phone:</label>
    <input
      type="tel"
      id="phone"
      name="phone"
      [(ngModel)]="patientModel.phone"
      #phone="ngModel"
      required
      pattern="[0-9]{10}"
    />
    <div *ngIf="phone.invalid && phone.touched" class="error">
      Please enter a valid 10-digit phone number.
    </div>
  </div>

  <div>
    <label for="address">Address:</label>
    <textarea
      id="address"
      name="address"
      [(ngModel)]="patientModel.address"
      #address="ngModel"
      required
    ></textarea>
    <div *ngIf="address.invalid && address.touched" class="error">
      Please enter your address.
    </div>
  </div>

  <button type="submit">Submit</button>
</form>

<div>
  <h2>Patient List</h2>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>DOB</th>
        <th>Gender</th>
        <th>Blood Group</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Address</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let patient of patients">
        <td>{{ patient.name }}</td>
        <td>{{ patient.dob }}</td>
        <td>{{ patient.gender }}</td>
        <td>{{ patient.bloodGroup }}</td>
        <td>{{ patient.email }}</td>
        <td>{{ patient.phone }}</td>
        <td>{{ patient.address }}</td>
      </tr>
    </tbody>
  </table>
</div>
